

<!DOCTYPE html>
<html lang="zh-CN" >



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/Hexo/img/csdn.png">
  <link rel="icon" href="/Hexo/img/csdn.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#DAA520">
  <meta name="author" content="æ˜Ÿ">
  <meta name="keywords" content="">
  
    <meta name="description" content="1-ä»Šæ—¥å†…å®¹ åˆè¯† ElasticSearch  å®‰è£… ElasticSearch  ElasticSearch æ ¸å¿ƒæ¦‚å¿µ  æ“ä½œ ElasticSearch  ElasticSearch JavaAPI   2-åˆè¯†ElasticSearch2.1-åŸºäºæ•°æ®åº“æŸ¥è¯¢çš„é—®é¢˜ 2.2-å€’æ’ç´¢å¼•å€’æ’ç´¢å¼•ï¼šå°†æ–‡æ¡£è¿›è¡Œåˆ†è¯ï¼Œå½¢æˆè¯æ¡å’Œidçš„å¯¹åº”å…³ç³»å³ä¸ºåå‘ç´¢å¼•ã€‚  ä»¥å”è¯—ä¸ºä¾‹ï¼Œæ‰€å¤„åŒ…å«â€œå‰â€çš„è¯—å¥ æ­£å‘ç´¢å¼•">
<meta property="og:type" content="website">
<meta property="og:title" content="page.title">
<meta property="og:url" content="https://1902756969.github.io/Hexo/pages%20-%20%E7%BD%91%E5%9B%BE%E7%89%88/Elasticsearch.html">
<meta property="og:site_name" content="â­â­â­">
<meta property="og:description" content="1-ä»Šæ—¥å†…å®¹ åˆè¯† ElasticSearch  å®‰è£… ElasticSearch  ElasticSearch æ ¸å¿ƒæ¦‚å¿µ  æ“ä½œ ElasticSearch  ElasticSearch JavaAPI   2-åˆè¯†ElasticSearch2.1-åŸºäºæ•°æ®åº“æŸ¥è¯¢çš„é—®é¢˜ 2.2-å€’æ’ç´¢å¼•å€’æ’ç´¢å¼•ï¼šå°†æ–‡æ¡£è¿›è¡Œåˆ†è¯ï¼Œå½¢æˆè¯æ¡å’Œidçš„å¯¹åº”å…³ç³»å³ä¸ºåå‘ç´¢å¼•ã€‚  ä»¥å”è¯—ä¸ºä¾‹ï¼Œæ‰€å¤„åŒ…å«â€œå‰â€çš„è¯—å¥ æ­£å‘ç´¢å¼•">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://1902756969.github.io/Hexo/img/1580888245982.png">
<meta property="og:image" content="https://1902756969.github.io/Hexo/img/1580887683510.png">
<meta property="og:image" content="https://1902756969.github.io/Hexo/img/1580887667417.png">
<meta property="og:image" content="https://1902756969.github.io/Hexo/img/1581143412491.png">
<meta property="og:image" content="https://1902756969.github.io/Hexo/img/1581143489911.png">
<meta property="og:image" content="https://1902756969.github.io/Hexo/img/1580887955947.png">
<meta property="og:image" content="https://1902756969.github.io/Hexo/img/1580888675397.png">
<meta property="og:image" content="https://1902756969.github.io/Hexo/img/1580879388109.png">
<meta property="article:published_time" content="2023-03-01T12:07:09.465Z">
<meta property="article:modified_time" content="2020-02-08T12:11:55.554Z">
<meta property="article:author" content="æ˜Ÿ">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://1902756969.github.io/Hexo/img/1580888245982.png">
  
  
  <title>page.title - â­â­â­</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />





<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/Hexo/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/Hexo/css/highlight.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"1902756969.github.io","root":"/Hexo/","version":"1.8.14","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":" â¡"},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/Hexo/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/Hexo/js/utils.js" ></script>
  <script  src="/Hexo/js/color-schema.js" ></script>

  
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 60vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/Hexo/">
      <strong>ğŸ›</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/Hexo/">
                <i class="iconfont icon-home-fill"></i>
                é¦–é¡µ
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/Hexo/categories/">
                <i class="iconfont icon-category-fill"></i>
                ç›®å½•
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/Hexo/archives/">
                <i class="iconfont icon-archive-fill"></i>
                å½’æ¡£
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/Hexo/tags/">
                <i class="iconfont icon-tags-fill"></i>
                æ ‡ç­¾
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/Hexo/about/">
                <i class="iconfont icon-user-fill"></i>
                å…³äº
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/Hexo/links/">
                <i class="iconfont icon-link-fill"></i>
                å‹é“¾
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/Hexo/img/bg5.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="page.title"></span>
          
        </div>

        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      <div class="container nopadding-x-md">
        <div id="board"
          >
          
          <div class="container">
            <div class="row">
              <div class="col-12 col-md-10 m-auto">
                

<article class="page-content">
  <h2 id="1-ä»Šæ—¥å†…å®¹"><a href="#1-ä»Šæ—¥å†…å®¹" class="headerlink" title="1-ä»Šæ—¥å†…å®¹"></a><strong>1-ä»Šæ—¥å†…å®¹</strong></h2><ol>
<li><p>åˆè¯† ElasticSearch</p>
</li>
<li><p>å®‰è£… ElasticSearch</p>
</li>
<li><p>ElasticSearch æ ¸å¿ƒæ¦‚å¿µ</p>
</li>
<li><p>æ“ä½œ ElasticSearch</p>
</li>
<li><p>ElasticSearch JavaAPI</p>
</li>
</ol>
<h2 id="2-åˆè¯†ElasticSearch"><a href="#2-åˆè¯†ElasticSearch" class="headerlink" title="2-åˆè¯†ElasticSearch"></a><strong>2-åˆè¯†ElasticSearch</strong></h2><h3 id="2-1-åŸºäºæ•°æ®åº“æŸ¥è¯¢çš„é—®é¢˜"><a href="#2-1-åŸºäºæ•°æ®åº“æŸ¥è¯¢çš„é—®é¢˜" class="headerlink" title="2.1-åŸºäºæ•°æ®åº“æŸ¥è¯¢çš„é—®é¢˜"></a>2.1-åŸºäºæ•°æ®åº“æŸ¥è¯¢çš„é—®é¢˜</h3><p><img src="/Hexo/img/1580888245982.png" srcset="/Hexo/img/loading.gif" lazyload alt="1580888245982"></p>
<h3 id="2-2-å€’æ’ç´¢å¼•"><a href="#2-2-å€’æ’ç´¢å¼•" class="headerlink" title="2.2-å€’æ’ç´¢å¼•"></a><strong>2.2-å€’æ’ç´¢å¼•</strong></h3><p><strong>å€’æ’ç´¢å¼•</strong>ï¼šå°†æ–‡æ¡£è¿›è¡Œåˆ†è¯ï¼Œå½¢æˆè¯æ¡å’Œidçš„å¯¹åº”å…³ç³»å³ä¸ºåå‘ç´¢å¼•ã€‚</p>
<p> ä»¥å”è¯—ä¸ºä¾‹ï¼Œæ‰€å¤„åŒ…å«â€œå‰â€çš„è¯—å¥</p>
<p>æ­£å‘ç´¢å¼•ï¼šç”±ã€Šé™å¤œæ€ã€‹â€“&gt;çª—å‰æ˜æœˆå…‰â€”&gt;â€œå‰â€å­—</p>
<p>åå‘ç´¢å¼•ï¼šâ€œå‰â€å­—â€“&gt;çª—å‰æ˜æœˆå…‰â€“&gt;ã€Šé™å¤œæ€ã€‹</p>
<p>åå‘ç´¢å¼•çš„å®ç°å°±æ˜¯å¯¹è¯—å¥è¿›è¡Œåˆ†è¯ï¼Œåˆ†æˆå•ä¸ªçš„è¯ï¼Œç”±è¯æ¨æ®ï¼Œå³ä¸ºåå‘ç´¢å¼•</p>
<p>â€œåºŠå‰æ˜æœˆå…‰â€â€“&gt; åˆ†è¯</p>
<p>å°†ä¸€æ®µæ–‡æœ¬æŒ‰ç…§ä¸€å®šçš„è§„åˆ™ï¼Œæ‹†åˆ†ä¸ºä¸åŒçš„è¯æ¡ï¼ˆtermï¼‰</p>
<p><img src="/Hexo/img/1580887683510.png" srcset="/Hexo/img/loading.gif" lazyload alt="1580887683510"> </p>
<p><img src="/Hexo/img/1580887667417.png" srcset="/Hexo/img/loading.gif" lazyload alt="1580887667417"></p>
<h3 id="2-3-ESå­˜å‚¨å’ŒæŸ¥è¯¢çš„åŸç†"><a href="#2-3-ESå­˜å‚¨å’ŒæŸ¥è¯¢çš„åŸç†" class="headerlink" title="2.3-ESå­˜å‚¨å’ŒæŸ¥è¯¢çš„åŸç†"></a><strong>2.3-ESå­˜å‚¨å’ŒæŸ¥è¯¢çš„åŸç†</strong></h3><p><strong>indexï¼ˆç´¢å¼•ï¼‰</strong>ï¼šç›¸å½“äºmysqlçš„åº“</p>
<p><strong>æ˜ å°„</strong>ï¼šç›¸å½“äºmysql çš„è¡¨ç»“æ„</p>
<p>**document(æ–‡æ¡£)**ï¼šç›¸å½“äºmysqlçš„è¡¨ä¸­çš„æ•°æ®</p>
<p> <strong>æ•°æ®åº“æŸ¥è¯¢å­˜åœ¨çš„é—®é¢˜ï¼š</strong></p>
<ol>
<li>æ€§èƒ½ä½ï¼šä½¿ç”¨æ¨¡ç³ŠæŸ¥è¯¢ï¼Œå·¦è¾¹æœ‰é€šé…ç¬¦ï¼Œä¸ä¼šèµ°ç´¢å¼•ï¼Œä¼šå…¨è¡¨æ‰«æï¼Œæ€§èƒ½ä½</li>
<li>åŠŸèƒ½å¼±ï¼šå¦‚æœä»¥â€åä¸ºæ‰‹æœºâ€œä½œä¸ºæ¡ä»¶ï¼ŒæŸ¥è¯¢ä¸å‡ºæ¥æ•°æ®</li>
</ol>
<p>Esä½¿ç”¨å€’æ’ç´¢å¼•ï¼Œå¯¹title è¿›è¡Œåˆ†è¯</p>
<p><img src="/Hexo/img/1581143412491.png" srcset="/Hexo/img/loading.gif" lazyload alt="1581143412491"></p>
<ol>
<li><p>ä½¿ç”¨â€œæ‰‹æœºâ€ä½œä¸ºå…³é”®å­—æŸ¥è¯¢</p>
<p>ç”Ÿæˆçš„å€’æ’ç´¢å¼•ä¸­ï¼Œè¯æ¡ä¼šæ’åºï¼Œå½¢æˆä¸€é¢—æ ‘å½¢ç»“æ„ï¼Œæå‡è¯æ¡çš„æŸ¥è¯¢é€Ÿåº¦</p>
</li>
<li><p>ä½¿ç”¨â€œåä¸ºæ‰‹æœºâ€ä½œä¸ºå…³é”®å­—æŸ¥è¯¢</p>
<p>åä¸ºï¼š1,3</p>
<p>æ‰‹æœºï¼š1,2,3</p>
<p><img src="/Hexo/img/1581143489911.png" srcset="/Hexo/img/loading.gif" lazyload alt="1581143489911"></p>
</li>
</ol>
<h3 id="2-4-ESæ¦‚å¿µè¯¦è§£"><a href="#2-4-ESæ¦‚å¿µè¯¦è§£" class="headerlink" title="2.4-ESæ¦‚å¿µè¯¦è§£"></a><strong>2.4-ESæ¦‚å¿µè¯¦è§£</strong></h3><p>â€¢ElasticSearchæ˜¯ä¸€ä¸ªåŸºäºLuceneçš„æœç´¢æœåŠ¡å™¨</p>
<p><img src="/Hexo/img/1580887955947.png" srcset="/Hexo/img/loading.gif" lazyload alt="1580887955947"></p>
<p>â€¢æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ã€é«˜æ‰©å±•ã€é«˜å®æ—¶çš„æœç´¢ä¸æ•°æ®åˆ†æå¼•æ“</p>
<p>â€¢åŸºäºRESTful webæ¥å£</p>
<p>â€¢Elasticsearchæ˜¯ç”¨Javaè¯­è¨€å¼€å‘çš„ï¼Œå¹¶ä½œä¸ºApacheè®¸å¯æ¡æ¬¾ä¸‹çš„å¼€æ”¾æºç å‘å¸ƒï¼Œæ˜¯ä¸€ç§æµè¡Œçš„ä¼ä¸šçº§æœç´¢å¼•æ“</p>
<p>â€¢å®˜ç½‘ï¼š<a target="_blank" rel="noopener" href="https://www.elastic.co/">https://www.elastic.co/</a></p>
<p>åº”ç”¨åœºæ™¯</p>
<p>â€¢æœç´¢ï¼šæµ·é‡æ•°æ®çš„æŸ¥è¯¢</p>
<p>â€¢æ—¥å¿—æ•°æ®åˆ†æ</p>
<p>â€¢å®æ—¶æ•°æ®åˆ†æ</p>
<h2 id="3-å®‰è£…ElasticSearch"><a href="#3-å®‰è£…ElasticSearch" class="headerlink" title="3-å®‰è£…ElasticSearch"></a><strong>3-å®‰è£…ElasticSearch</strong></h2><h3 id="3-1-ESå®‰è£…"><a href="#3-1-ESå®‰è£…" class="headerlink" title="3.1-ESå®‰è£…"></a>3.1-ESå®‰è£…</h3><p> å‚è§ElasticSearch-ESå®‰è£….md</p>
<p> æŸ¥çœ‹elasticæ˜¯å¦å¯åŠ¨</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">ps</span> -ef|<span class="hljs-keyword">grep</span> elastic<br></code></pre></td></tr></table></figure>



<h3 id="3-2-ESè¾…åŠ©å·¥å…·å®‰è£…"><a href="#3-2-ESè¾…åŠ©å·¥å…·å®‰è£…" class="headerlink" title="3.2-ESè¾…åŠ©å·¥å…·å®‰è£…"></a><strong>3.2-ESè¾…åŠ©å·¥å…·å®‰è£…</strong></h3><p> å‚è§ElasticSearch-ESå®‰è£….md</p>
<p>åå°å¯åŠ¨</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">nohup ..<span class="hljs-regexp">/bin/</span>kibana &amp;<br></code></pre></td></tr></table></figure>

<h2 id="4-ElasticSearchæ ¸å¿ƒæ¦‚å¿µ"><a href="#4-ElasticSearchæ ¸å¿ƒæ¦‚å¿µ" class="headerlink" title="4-ElasticSearchæ ¸å¿ƒæ¦‚å¿µ"></a><strong>4-ElasticSearchæ ¸å¿ƒæ¦‚å¿µ</strong></h2><p><strong>ç´¢å¼•ï¼ˆindexï¼‰</strong></p>
<p>ElasticSearchå­˜å‚¨æ•°æ®çš„åœ°æ–¹ï¼Œå¯ä»¥ç†è§£æˆå…³ç³»å‹æ•°æ®åº“ä¸­çš„æ•°æ®åº“æ¦‚å¿µã€‚</p>
<p><strong>æ˜ å°„ï¼ˆmappingï¼‰</strong></p>
<p>mappingå®šä¹‰äº†æ¯ä¸ªå­—æ®µçš„ç±»å‹ã€å­—æ®µæ‰€ä½¿ç”¨çš„åˆ†è¯å™¨ç­‰ã€‚ç›¸å½“äºå…³ç³»å‹æ•°æ®åº“ä¸­çš„è¡¨ç»“æ„ã€‚</p>
<p><strong>æ–‡æ¡£ï¼ˆdocumentï¼‰</strong></p>
<p>   Elasticsearchä¸­çš„æœ€å°æ•°æ®å•å…ƒï¼Œå¸¸ä»¥jsonæ ¼å¼æ˜¾ç¤ºã€‚ä¸€ä¸ªdocumentç›¸å½“äºå…³ç³»å‹æ•°æ®åº“ä¸­çš„ä¸€è¡Œæ•°æ®ã€‚</p>
<p><strong>å€’æ’ç´¢å¼•</strong></p>
<p>   ä¸€ä¸ªå€’æ’ç´¢å¼•ç”±æ–‡æ¡£ä¸­æ‰€æœ‰ä¸é‡å¤è¯çš„åˆ—è¡¨æ„æˆï¼Œå¯¹äºå…¶ä¸­æ¯ä¸ªè¯ï¼Œå¯¹åº”ä¸€ä¸ªåŒ…å«å®ƒçš„æ–‡æ¡£idåˆ—è¡¨ã€‚</p>
<p><strong>ç±»å‹ï¼ˆtypeï¼‰</strong></p>
<p>   ä¸€ç§typeå°±åƒä¸€ç±»è¡¨ã€‚å¦‚ç”¨æˆ·è¡¨ã€è§’è‰²è¡¨ç­‰ã€‚åœ¨Elasticsearch7.Xé»˜è®¤typeä¸º_doc</p>
<pre><code class="hljs"> \- ES 5.xä¸­ä¸€ä¸ªindexå¯ä»¥æœ‰å¤šç§typeã€‚

  \- ES 6.xä¸­ä¸€ä¸ªindexåªèƒ½æœ‰ä¸€ç§typeã€‚

  \- ES 7.xä»¥åï¼Œå°†é€æ­¥ç§»é™¤typeè¿™ä¸ªæ¦‚å¿µï¼Œç°åœ¨çš„æ“ä½œå·²ç»ä¸å†ä½¿ç”¨ï¼Œé»˜è®¤_doc
</code></pre>
<h2 id="5-è„šæœ¬æ“ä½œES"><a href="#5-è„šæœ¬æ“ä½œES" class="headerlink" title="5-è„šæœ¬æ“ä½œES"></a><strong>5-è„šæœ¬æ“ä½œES</strong></h2><h3 id="5-1-RESTfulé£æ ¼ä»‹ç»"><a href="#5-1-RESTfulé£æ ¼ä»‹ç»" class="headerlink" title="5.1-RESTfulé£æ ¼ä»‹ç»"></a>5.1-RESTfulé£æ ¼ä»‹ç»</h3><p> 1.STï¼ˆRepresentational State Transferï¼‰ï¼Œè¡¨è¿°æ€§çŠ¶æ€è½¬ç§»ï¼Œæ˜¯ä¸€ç»„æ¶æ„çº¦æŸæ¡ä»¶å’ŒåŸåˆ™ã€‚æ»¡è¶³è¿™äº›çº¦æŸæ¡ä»¶å’ŒåŸåˆ™çš„åº”ç”¨ç¨‹åºæˆ–è®¾è®¡å°±æ˜¯RESTfulã€‚å°±æ˜¯ä¸€ç§å®šä¹‰æ¥å£çš„è§„èŒƒã€‚</p>
<p>2.åŸºäºHTTPã€‚</p>
<p>3.ä½¿ç”¨XMLæ ¼å¼å®šä¹‰æˆ–JSONæ ¼å¼å®šä¹‰ã€‚</p>
<p>4.æ¯ä¸€ä¸ªURIä»£è¡¨1ç§èµ„æºã€‚</p>
<p>5.å®¢æˆ·ç«¯ä½¿ç”¨GETã€POSTã€PUTã€DELETE 4ä¸ªè¡¨ç¤ºæ“ä½œæ–¹å¼çš„åŠ¨è¯å¯¹æœåŠ¡ç«¯èµ„æºè¿›è¡Œæ“ä½œï¼š</p>
<p>GETï¼šç”¨æ¥è·å–èµ„æº</p>
<p>POSTï¼šç”¨æ¥æ–°å»ºèµ„æºï¼ˆä¹Ÿå¯ä»¥ç”¨äºæ›´æ–°èµ„æºï¼‰</p>
<p>PUTï¼šç”¨æ¥æ›´æ–°èµ„æº</p>
<p>DELETEï¼šç”¨æ¥åˆ é™¤èµ„æº</p>
<p><img src="/Hexo/img/1580888675397.png" srcset="/Hexo/img/loading.gif" lazyload alt="1580888675397"></p>
<h3 id="5-2-æ“ä½œç´¢å¼•"><a href="#5-2-æ“ä½œç´¢å¼•" class="headerlink" title="5.2-æ“ä½œç´¢å¼•"></a><strong>5.2-æ“ä½œç´¢å¼•</strong></h3><p><strong>PUT</strong></p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">http:<span class="hljs-regexp">//i</span>p:ç«¯å£/ç´¢å¼•åç§°<br></code></pre></td></tr></table></figure>

<p>æŸ¥è¯¢</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs awk">GET http:<span class="hljs-regexp">//i</span>p:ç«¯å£/ç´¢å¼•åç§°  <span class="hljs-comment"># æŸ¥è¯¢å•ä¸ªç´¢å¼•ä¿¡æ¯</span><br>GET http:<span class="hljs-regexp">//i</span>p:ç«¯å£/ç´¢å¼•åç§°<span class="hljs-number">1</span>,ç´¢å¼•åç§°<span class="hljs-number">2</span>...  <span class="hljs-comment"># æŸ¥è¯¢å¤šä¸ªç´¢å¼•ä¿¡æ¯</span><br>GET http:<span class="hljs-regexp">//i</span>p:ç«¯å£/_all  <span class="hljs-comment"># æŸ¥è¯¢æ‰€æœ‰ç´¢å¼•ä¿¡æ¯</span><br></code></pre></td></tr></table></figure>

<p>â€¢åˆ é™¤ç´¢å¼•</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">DELETE http:<span class="hljs-regexp">//i</span>p:ç«¯å£/ç´¢å¼•åç§°<br></code></pre></td></tr></table></figure>

<p>â€¢å…³é—­ã€æ‰“å¼€ç´¢å¼•</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk">POST http:<span class="hljs-regexp">//i</span>p:ç«¯å£<span class="hljs-regexp">/ç´¢å¼•åç§°/</span>_close  <br>POST http:<span class="hljs-regexp">//i</span>p:ç«¯å£<span class="hljs-regexp">/ç´¢å¼•åç§°/</span>_open <br></code></pre></td></tr></table></figure>




<h3 id="5-3-ESæ•°æ®ç±»å‹"><a href="#5-3-ESæ•°æ®ç±»å‹" class="headerlink" title="5.3-ESæ•°æ®ç±»å‹"></a><strong>5.3-ESæ•°æ®ç±»å‹</strong></h3><ol>
<li><strong>ç®€å•æ•°æ®ç±»å‹</strong></li>
</ol>
<ul>
<li>å­—ç¬¦ä¸²</li>
</ul>
<p>èšåˆï¼šç›¸å½“äºmysql ä¸­çš„sumï¼ˆæ±‚å’Œï¼‰</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs text">textï¼šä¼šåˆ†è¯ï¼Œä¸æ”¯æŒèšåˆ<br><br>keywordï¼šä¸ä¼šåˆ†è¯ï¼Œå°†å…¨éƒ¨å†…å®¹ä½œä¸ºä¸€ä¸ªè¯æ¡ï¼Œæ”¯æŒèšåˆ<br></code></pre></td></tr></table></figure>

<ul>
<li><p>æ•°å€¼</p>
</li>
<li><p>å¸ƒå°”ï¼šboolean</p>
</li>
<li><p>äºŒè¿›åˆ¶ï¼šbinary</p>
</li>
<li><p>èŒƒå›´ç±»å‹</p>
</li>
</ul>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-built_in">int</span>eger_range, <span class="hljs-built_in">float</span>_range, long_range, <span class="hljs-built_in">double</span>_range, date_range <br></code></pre></td></tr></table></figure>

<ul>
<li>æ—¥æœŸ:date</li>
</ul>
<ol start="2">
<li><strong>å¤æ‚æ•°æ®ç±»å‹</strong></li>
</ol>
<p>â€¢æ•°ç»„ï¼š[ ]  Nested: <code>nested</code> (for arrays of JSON objects æ•°ç»„ç±»å‹çš„JSONå¯¹è±¡)  </p>
<p>â€¢å¯¹è±¡ï¼š{ } Object: object(for single JSON objects å•ä¸ªJSONå¯¹è±¡)</p>
<h3 id="5-4-æ“ä½œæ˜ å°„"><a href="#5-4-æ“ä½œæ˜ å°„" class="headerlink" title="5.4-æ“ä½œæ˜ å°„"></a><strong>5.4-æ“ä½œæ˜ å°„</strong></h3><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs json">PUT person<br><br>GET person<br>#æ·»åŠ æ˜ å°„<br>PUT /person/_mapping<br><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;properties&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;type&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;text&quot;</span><br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;age&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;type&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;integer&quot;</span><br>    <span class="hljs-punctuation">&#125;</span><br>  <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><br><br><br><br></code></pre></td></tr></table></figure>

<p> #åˆ›å»ºç´¢å¼•å¹¶æ·»åŠ æ˜ å°„</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs json"> <br> #åˆ›å»ºç´¢å¼•å¹¶æ·»åŠ æ˜ å°„<br> PUT /person1<br><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;mappings&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;properties&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;type&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;text&quot;</span><br>      <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;age&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;type&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;integer&quot;</span><br>      <span class="hljs-punctuation">&#125;</span><br>    <span class="hljs-punctuation">&#125;</span><br>  <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><br><br>GET person1/_mapping<br></code></pre></td></tr></table></figure>



<p>æ·»åŠ å­—æ®µ</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs json">#æ·»åŠ å­—æ®µ<br>PUT /person1/_mapping<br><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;properties&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;type&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;text&quot;</span><br>      <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;age&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;type&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;integer&quot;</span><br>      <span class="hljs-punctuation">&#125;</span><br>    <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure>







<h3 id="5-5-æ“ä½œæ–‡æ¡£"><a href="#5-5-æ“ä½œæ–‡æ¡£" class="headerlink" title="5.5-æ“ä½œæ–‡æ¡£"></a><strong>5.5-æ“ä½œæ–‡æ¡£</strong></h3><p>â€¢æ·»åŠ æ–‡æ¡£ï¼ŒæŒ‡å®šid</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs json">POST /person1/_doc/<span class="hljs-number">2</span><br><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;å¼ ä¸‰&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;age&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-number">18</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;address&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;åŒ—äº¬&quot;</span><br><span class="hljs-punctuation">&#125;</span><br><br>GET /person1/_doc/<span class="hljs-number">1</span><br><br><br></code></pre></td></tr></table></figure>

<p> â€¢æ·»åŠ æ–‡æ¡£ï¼Œä¸æŒ‡å®šid</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs json">#æ·»åŠ æ–‡æ¡£ï¼Œä¸æŒ‡å®šid<br>POST /person1/_doc/<br><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;å¼ ä¸‰&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;age&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-number">18</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;address&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;åŒ—äº¬&quot;</span><br><span class="hljs-punctuation">&#125;</span><br><br>#æŸ¥è¯¢æ‰€æœ‰æ–‡æ¡£<br>GET /person1/_search<br></code></pre></td></tr></table></figure>



<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs json">#åˆ é™¤æŒ‡å®šidæ–‡æ¡£<br>DELETE /person1/_doc/<span class="hljs-number">1</span><br></code></pre></td></tr></table></figure>





<h2 id="6-åˆ†è¯å™¨"><a href="#6-åˆ†è¯å™¨" class="headerlink" title="6-åˆ†è¯å™¨"></a>6-åˆ†è¯å™¨</h2><h3 id="6-1åˆ†è¯å™¨-ä»‹ç»"><a href="#6-1åˆ†è¯å™¨-ä»‹ç»" class="headerlink" title="6.1åˆ†è¯å™¨-ä»‹ç»"></a>6.1åˆ†è¯å™¨-ä»‹ç»</h3><p> â€¢IKAnalyzeræ˜¯ä¸€ä¸ªå¼€æºçš„ï¼ŒåŸºäºjavaè¯­è¨€å¼€å‘çš„è½»é‡çº§çš„ä¸­æ–‡åˆ†è¯å·¥å…·åŒ…</p>
<p>â€¢æ˜¯ä¸€ä¸ªåŸºäºMavenæ„å»ºçš„é¡¹ç›®</p>
<p>â€¢å…·æœ‰60ä¸‡å­—&#x2F;ç§’çš„é«˜é€Ÿå¤„ç†èƒ½åŠ›</p>
<p>â€¢æ”¯æŒç”¨æˆ·è¯å…¸æ‰©å±•å®šä¹‰</p>
<p>â€¢ä¸‹è½½åœ°å€ï¼š<a target="_blank" rel="noopener" href="https://github.com/medcl/elasticsearch-analysis-ik/archive/v7.4.0.zip">https://github.com/medcl/elasticsearch-analysis-ik/archive/v7.4.0.zip</a> </p>
<p>å®‰è£…åŒ…åœ¨èµ„æ–™æ–‡ä»¶å¤¹ä¸­æä¾›</p>
<h3 id="6-2-ikåˆ†è¯å™¨å®‰è£…"><a href="#6-2-ikåˆ†è¯å™¨å®‰è£…" class="headerlink" title="6.2-ikåˆ†è¯å™¨å®‰è£…"></a><strong>6.2-ikåˆ†è¯å™¨å®‰è£…</strong></h3><p>å‚è§ ikåˆ†è¯å™¨å®‰è£….md</p>
<p> æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ—¶å¦‚æœå‡ºç°  æ‰“åŒ…å¤±è´¥ï¼ˆ501ç ï¼‰å°†mavené•œåƒæ¢æˆé˜¿é‡Œäº‘çš„</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs actionscript">mvn <span class="hljs-keyword">package</span><br></code></pre></td></tr></table></figure>

<p> &#x2F;opt&#x2F;apache-maven-3.1.1&#x2F;conf&#x2F;setting.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">mirror</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>alimaven<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>aliyun maven<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/groups/public/<span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">mirrorOf</span>&gt;</span>central<span class="hljs-tag">&lt;/<span class="hljs-name">mirrorOf</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">mirror</span>&gt;</span><br></code></pre></td></tr></table></figure>





<h3 id="6-3-ikåˆ†è¯å™¨ä½¿ç”¨"><a href="#6-3-ikåˆ†è¯å™¨ä½¿ç”¨" class="headerlink" title="6.3-ikåˆ†è¯å™¨ä½¿ç”¨"></a><strong>6.3-ikåˆ†è¯å™¨ä½¿ç”¨</strong></h3><p>IKåˆ†è¯å™¨æœ‰ä¸¤ç§åˆ†è¯æ¨¡å¼ï¼šik_max_wordå’Œik_smartæ¨¡å¼ã€‚</p>
<p>1ã€<strong>ik_max_word</strong></p>
<p>ä¼šå°†æ–‡æœ¬åšæœ€ç»†ç²’åº¦çš„æ‹†åˆ†ï¼Œæ¯”å¦‚ä¼šå°†â€œä¹’ä¹“çƒæ˜å¹´æ€»å† å†›â€æ‹†åˆ†ä¸ºâ€œä¹’ä¹“çƒã€ä¹’ä¹“ã€çƒã€æ˜å¹´ã€æ€»å† å†›ã€å† å†›ã€‚</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs json">#æ–¹å¼ä¸€ik_max_word<br>GET /_analyze<br><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;analyzer&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ik_max_word&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ä¹’ä¹“çƒæ˜å¹´æ€»å† å†›&quot;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure>

<p>ik_max_wordåˆ†è¯å™¨æ‰§è¡Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;tokens&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>    <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;token&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ä¹’ä¹“çƒ&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;start_offset&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;end_offset&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;type&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;CN_WORD&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;position&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;token&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ä¹’ä¹“&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;start_offset&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;end_offset&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;type&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;CN_WORD&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;position&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;token&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;çƒ&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;start_offset&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;end_offset&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;type&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;CN_CHAR&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;position&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;token&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;æ˜å¹´&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;start_offset&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;end_offset&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-number">5</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;type&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;CN_WORD&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;position&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;token&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;æ€»å† å†›&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;start_offset&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-number">5</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;end_offset&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-number">8</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;type&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;CN_WORD&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;position&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-number">4</span><br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;token&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;å† å†›&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;start_offset&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-number">6</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;end_offset&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-number">8</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;type&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;CN_WORD&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;position&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-number">5</span><br>    <span class="hljs-punctuation">&#125;</span><br>  <span class="hljs-punctuation">]</span><br><span class="hljs-punctuation">&#125;</span><br><br></code></pre></td></tr></table></figure>

<p>2ã€<strong>ik_smart</strong><br>ä¼šåšæœ€ç²—ç²’åº¦çš„æ‹†åˆ†ï¼Œæ¯”å¦‚ä¼šå°†â€œä¹’ä¹“çƒæ˜å¹´æ€»å† å†›â€æ‹†åˆ†ä¸ºä¹’ä¹“çƒã€æ˜å¹´ã€æ€»å† å†›ã€‚</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs json">#æ–¹å¼äºŒik_smart<br>GET /_analyze<br><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;analyzer&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ik_smart&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ä¹’ä¹“çƒæ˜å¹´æ€»å† å†›&quot;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure>

<p>ik_smartåˆ†è¯å™¨æ‰§è¡Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;tokens&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>    <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;token&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ä¹’ä¹“çƒ&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;start_offset&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;end_offset&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;type&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;CN_WORD&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;position&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;token&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;æ˜å¹´&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;start_offset&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;end_offset&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-number">5</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;type&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;CN_WORD&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;position&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;token&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;æ€»å† å†›&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;start_offset&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-number">5</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;end_offset&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-number">8</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;type&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;CN_WORD&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;position&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><br>    <span class="hljs-punctuation">&#125;</span><br>  <span class="hljs-punctuation">]</span><br><span class="hljs-punctuation">&#125;</span><br><br></code></pre></td></tr></table></figure>

<p>ç”±æ­¤å¯è§  ä½¿ç”¨ik_smartå¯ä»¥å°†æ–‡æœ¬â€textâ€: â€œä¹’ä¹“çƒæ˜å¹´æ€»å† å†›â€åˆ†æˆäº†ã€ä¹’ä¹“çƒã€‘ã€æ˜å¹´ã€‘ã€æ€»å† å†›ã€‘</p>
<p>è¿™æ ·çœ‹çš„è¯ï¼Œè¿™æ ·çš„åˆ†è¯æ•ˆæœè¾¾åˆ°äº†æˆ‘ä»¬çš„è¦æ±‚ã€‚</p>
<h3 id="6-4ä½¿ç”¨IKåˆ†è¯å™¨-æŸ¥è¯¢æ–‡æ¡£"><a href="#6-4ä½¿ç”¨IKåˆ†è¯å™¨-æŸ¥è¯¢æ–‡æ¡£" class="headerlink" title="6.4ä½¿ç”¨IKåˆ†è¯å™¨-æŸ¥è¯¢æ–‡æ¡£"></a><strong>6.4ä½¿ç”¨IKåˆ†è¯å™¨-æŸ¥è¯¢æ–‡æ¡£</strong></h3><h3 id=""><a href="#" class="headerlink" title=""></a></h3><p> â€¢è¯æ¡æŸ¥è¯¢ï¼šterm</p>
<p>â€‹			è¯æ¡æŸ¥è¯¢ä¸ä¼šåˆ†ææŸ¥è¯¢æ¡ä»¶ï¼Œåªæœ‰å½“è¯æ¡å’ŒæŸ¥è¯¢å­—ç¬¦ä¸²å®Œå…¨åŒ¹é…æ—¶æ‰åŒ¹é…æœç´¢</p>
<p>â€¢å…¨æ–‡æŸ¥è¯¢ï¼šmatch</p>
<p>â€‹           å…¨æ–‡æŸ¥è¯¢ä¼šåˆ†ææŸ¥è¯¢æ¡ä»¶ï¼Œå…ˆå°†æŸ¥è¯¢æ¡ä»¶è¿›è¡Œåˆ†è¯ï¼Œç„¶åæŸ¥è¯¢ï¼Œæ±‚å¹¶é›†</p>
<p>1.åˆ›å»ºç´¢å¼•ï¼Œæ·»åŠ æ˜ å°„ï¼Œå¹¶æŒ‡å®šåˆ†è¯å™¨ä¸ºikåˆ†è¯å™¨</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs json">PUT person2<br><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;mappings&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;properties&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;type&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;keyword&quot;</span><br>      <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;address&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;type&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;text&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;analyzer&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ik_max_word&quot;</span><br>      <span class="hljs-punctuation">&#125;</span><br>    <span class="hljs-punctuation">&#125;</span><br>  <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure>

<p>2.æ·»åŠ æ–‡æ¡£</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs awk">POST <span class="hljs-regexp">/person2/</span>_doc/<span class="hljs-number">1</span><br>&#123;<br>  <span class="hljs-string">&quot;name&quot;</span>:<span class="hljs-string">&quot;å¼ ä¸‰&quot;</span>,<br>  <span class="hljs-string">&quot;age&quot;</span>:<span class="hljs-number">18</span>,<br>  <span class="hljs-string">&quot;address&quot;</span>:<span class="hljs-string">&quot;åŒ—äº¬æµ·æ·€åŒº&quot;</span><br>&#125;<br><br>POST <span class="hljs-regexp">/person2/</span>_doc/<span class="hljs-number">2</span><br>&#123;<br>  <span class="hljs-string">&quot;name&quot;</span>:<span class="hljs-string">&quot;æå››&quot;</span>,<br>  <span class="hljs-string">&quot;age&quot;</span>:<span class="hljs-number">18</span>,<br>  <span class="hljs-string">&quot;address&quot;</span>:<span class="hljs-string">&quot;åŒ—äº¬æœé˜³åŒº&quot;</span><br>&#125;<br><br>POST <span class="hljs-regexp">/person2/</span>_doc/<span class="hljs-number">3</span><br>&#123;<br>  <span class="hljs-string">&quot;name&quot;</span>:<span class="hljs-string">&quot;ç‹äº”&quot;</span>,<br>  <span class="hljs-string">&quot;age&quot;</span>:<span class="hljs-number">18</span>,<br>  <span class="hljs-string">&quot;address&quot;</span>:<span class="hljs-string">&quot;åŒ—äº¬æ˜Œå¹³åŒº&quot;</span><br>&#125;<br><br></code></pre></td></tr></table></figure>



<p>3.æŸ¥è¯¢æ˜ å°„</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs json">GET person2<br></code></pre></td></tr></table></figure>

<p><img src="/Hexo/img/1580879388109.png" srcset="/Hexo/img/loading.gif" lazyload alt="1580879388109"></p>
<p>4.æŸ¥çœ‹åˆ†è¯æ•ˆæœ</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs json">GET _analyze<br><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;analyzer&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ik_max_word&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;åŒ—äº¬æµ·æ·€&quot;</span><br><span class="hljs-punctuation">&#125;</span><br><br></code></pre></td></tr></table></figure>





<p>5.è¯æ¡æŸ¥è¯¢ï¼šterm</p>
<p>æŸ¥è¯¢person2ä¸­åŒ¹é…åˆ°â€åŒ—äº¬â€ä¸¤å­—çš„è¯æ¡</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs json">GET /person2/_search<br><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;query&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;term&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;address&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;value&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;åŒ—äº¬&quot;</span><br>      <span class="hljs-punctuation">&#125;</span><br>    <span class="hljs-punctuation">&#125;</span><br>  <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure>



<p>6.å…¨æ–‡æŸ¥è¯¢ï¼šmatch</p>
<p>â€‹           å…¨æ–‡æŸ¥è¯¢ä¼šåˆ†ææŸ¥è¯¢æ¡ä»¶ï¼Œå…ˆå°†æŸ¥è¯¢æ¡ä»¶è¿›è¡Œåˆ†è¯ï¼Œç„¶åæŸ¥è¯¢ï¼Œæ±‚å¹¶é›†</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs awk">GET <span class="hljs-regexp">/person2/</span>_search<br>&#123;<br>  <span class="hljs-string">&quot;query&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;match&quot;</span>: &#123;<br>      <span class="hljs-string">&quot;address&quot;</span>:<span class="hljs-string">&quot;åŒ—äº¬æ˜Œå¹³&quot;</span><br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>





<h2 id="7-ElasticSearch-JavaApi"><a href="#7-ElasticSearch-JavaApi" class="headerlink" title="7-ElasticSearch JavaApi-"></a><strong>7-ElasticSearch JavaApi-</strong></h2><h3 id="7-1SpringBootæ•´åˆES"><a href="#7-1SpringBootæ•´åˆES" class="headerlink" title="7.1SpringBootæ•´åˆES"></a>7.1SpringBootæ•´åˆES</h3><p> â‘ æ­å»ºSpringBootå·¥ç¨‹</p>
<p>â‘¡å¼•å…¥ElasticSearchç›¸å…³åæ ‡</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--å¼•å…¥esçš„åæ ‡--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.elasticsearch.client<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>elasticsearch-rest-high-level-client<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>7.4.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.elasticsearch.client<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>elasticsearch-rest-client<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>7.4.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.elasticsearch<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>elasticsearch<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>7.4.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>â‘¢æµ‹è¯•</p>
<p>ElasticSearchConfig</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Configuration</span><br><span class="hljs-meta">@ConfigurationProperties(prefix=&quot;elasticsearch&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ElasticSearchConfig</span> &#123;<br><br>    <span class="hljs-keyword">private</span> String host;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> port;<br><br> <br><br><br><br><br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getHost</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> host;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setHost</span><span class="hljs-params">(String host)</span> &#123;<br>        <span class="hljs-built_in">this</span>.host = host;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getPort</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> port;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setPort</span><span class="hljs-params">(<span class="hljs-type">int</span> port)</span> &#123;<br>        <span class="hljs-built_in">this</span>.port = port;<br>    &#125;<br>    <span class="hljs-meta">@Bean</span><br>    <span class="hljs-keyword">public</span> RestHighLevelClient <span class="hljs-title function_">client</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RestHighLevelClient</span>(RestClient.builder(<br>                <span class="hljs-keyword">new</span> <span class="hljs-title class_">HttpHost</span>(host,port,<span class="hljs-string">&quot;http&quot;</span>)<br>        ));<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>ElasticsearchDay01ApplicationTests</p>
<p>æ³¨æ„ï¼šä½¿ç”¨@Autowiredæ³¨å…¥RestHighLevelClient å¦‚æœæŠ¥çº¢çº¿ï¼Œåˆ™æ˜¯å› ä¸ºé…ç½®ç±»æ‰€åœ¨çš„åŒ…å’Œæµ‹è¯•ç±»æ‰€åœ¨çš„åŒ…ï¼ŒåŒ…åä¸ä¸€è‡´é€ æˆçš„</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@SpringBootTest</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">ElasticsearchDay01ApplicationTests</span> &#123;<br><br>    <span class="hljs-meta">@Autowired</span><br>    RestHighLevelClient client;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * æµ‹è¯•</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">contextLoads</span><span class="hljs-params">()</span> &#123;<br><br>        System.out.println(client);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>



<h3 id="7-2-åˆ›å»ºç´¢å¼•"><a href="#7-2-åˆ›å»ºç´¢å¼•" class="headerlink" title="7.2-åˆ›å»ºç´¢å¼•"></a><strong>7.2-åˆ›å»ºç´¢å¼•</strong></h3><p>1.æ·»åŠ ç´¢å¼•</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment">     * æ·»åŠ ç´¢å¼•</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> IOException</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addIndex</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>       <span class="hljs-comment">//1.ä½¿ç”¨clientè·å–æ“ä½œç´¢å¼•å¯¹è±¡</span><br>        <span class="hljs-type">IndicesClient</span> <span class="hljs-variable">indices</span> <span class="hljs-operator">=</span> client.indices();<br>        <span class="hljs-comment">//2.å…·ä½“æ“ä½œè·å–è¿”å›å€¼</span><br>        <span class="hljs-comment">//2.1 è®¾ç½®ç´¢å¼•åç§°</span><br>        CreateIndexRequest createIndexRequest=<span class="hljs-keyword">new</span> <span class="hljs-title class_">CreateIndexRequest</span>(<span class="hljs-string">&quot;itheima&quot;</span>);<br><br>        <span class="hljs-type">CreateIndexResponse</span> <span class="hljs-variable">createIndexResponse</span> <span class="hljs-operator">=</span> indices.create(createIndexRequest, RequestOptions.DEFAULT);<br>        <span class="hljs-comment">//3.æ ¹æ®è¿”å›å€¼åˆ¤æ–­ç»“æœ</span><br>        System.out.println(createIndexResponse.isAcknowledged());<br>    &#125;<br></code></pre></td></tr></table></figure>
<p>2.æ·»åŠ ç´¢å¼•ï¼Œå¹¶æ·»åŠ æ˜ å°„</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment">    * æ·»åŠ ç´¢å¼•ï¼Œå¹¶æ·»åŠ æ˜ å°„</span><br><span class="hljs-comment">    */</span><br>   <span class="hljs-meta">@Test</span><br>   <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addIndexAndMapping</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>      <span class="hljs-comment">//1.ä½¿ç”¨clientè·å–æ“ä½œç´¢å¼•å¯¹è±¡</span><br>       <span class="hljs-type">IndicesClient</span> <span class="hljs-variable">indices</span> <span class="hljs-operator">=</span> client.indices();<br>       <span class="hljs-comment">//2.å…·ä½“æ“ä½œè·å–è¿”å›å€¼</span><br>       <span class="hljs-comment">//2.å…·ä½“æ“ä½œï¼Œè·å–è¿”å›å€¼</span><br>       <span class="hljs-type">CreateIndexRequest</span> <span class="hljs-variable">createIndexRequest</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CreateIndexRequest</span>(<span class="hljs-string">&quot;itcast&quot;</span>);<br>       <span class="hljs-comment">//2.1 è®¾ç½®mappings</span><br>       <span class="hljs-type">String</span> <span class="hljs-variable">mapping</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;&#123;\n&quot;</span> +<br>               <span class="hljs-string">&quot;      \&quot;properties\&quot; : &#123;\n&quot;</span> +<br>               <span class="hljs-string">&quot;        \&quot;address\&quot; : &#123;\n&quot;</span> +<br>               <span class="hljs-string">&quot;          \&quot;type\&quot; : \&quot;text\&quot;,\n&quot;</span> +<br>               <span class="hljs-string">&quot;          \&quot;analyzer\&quot; : \&quot;ik_max_word\&quot;\n&quot;</span> +<br>               <span class="hljs-string">&quot;        &#125;,\n&quot;</span> +<br>               <span class="hljs-string">&quot;        \&quot;age\&quot; : &#123;\n&quot;</span> +<br>               <span class="hljs-string">&quot;          \&quot;type\&quot; : \&quot;long\&quot;\n&quot;</span> +<br>               <span class="hljs-string">&quot;        &#125;,\n&quot;</span> +<br>               <span class="hljs-string">&quot;        \&quot;name\&quot; : &#123;\n&quot;</span> +<br>               <span class="hljs-string">&quot;          \&quot;type\&quot; : \&quot;keyword\&quot;\n&quot;</span> +<br>               <span class="hljs-string">&quot;        &#125;\n&quot;</span> +<br>               <span class="hljs-string">&quot;      &#125;\n&quot;</span> +<br>               <span class="hljs-string">&quot;    &#125;&quot;</span>;<br>       createIndexRequest.mapping(mapping,XContentType.JSON);<br><br>       <span class="hljs-type">CreateIndexResponse</span> <span class="hljs-variable">createIndexResponse</span> <span class="hljs-operator">=</span> indices.create(createIndexRequest, RequestOptions.DEFAULT);<br>       <span class="hljs-comment">//3.æ ¹æ®è¿”å›å€¼åˆ¤æ–­ç»“æœ</span><br>       System.out.println(createIndexResponse.isAcknowledged());<br>   &#125;<br><br></code></pre></td></tr></table></figure>

<h3 id="7-3-æŸ¥è¯¢ã€åˆ é™¤ã€åˆ¤æ–­ç´¢å¼•"><a href="#7-3-æŸ¥è¯¢ã€åˆ é™¤ã€åˆ¤æ–­ç´¢å¼•" class="headerlink" title="7.3-æŸ¥è¯¢ã€åˆ é™¤ã€åˆ¤æ–­ç´¢å¼•"></a><strong>7.3-æŸ¥è¯¢ã€åˆ é™¤ã€åˆ¤æ–­ç´¢å¼•</strong></h3><p>æŸ¥è¯¢ç´¢å¼•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><br>   <br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * æŸ¥è¯¢ç´¢å¼•</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">queryIndex</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>    <span class="hljs-type">IndicesClient</span> <span class="hljs-variable">indices</span> <span class="hljs-operator">=</span> client.indices();<br><br>    GetIndexRequest getRequest=<span class="hljs-keyword">new</span> <span class="hljs-title class_">GetIndexRequest</span>(<span class="hljs-string">&quot;itcast&quot;</span>);<br>    <span class="hljs-type">GetIndexResponse</span> <span class="hljs-variable">response</span> <span class="hljs-operator">=</span> indices.get(getRequest, RequestOptions.DEFAULT);<br>    Map&lt;String, MappingMetaData&gt; mappings = response.getMappings();<br>    <span class="hljs-comment">//iter æç¤ºforeach</span><br>    <span class="hljs-keyword">for</span> (String key : mappings.keySet()) &#123;<br>        System.out.println(key+<span class="hljs-string">&quot;===&quot;</span>+mappings.get(key).getSourceAsMap());<br>    &#125;<br>&#125;<br><br>   <br>   <br></code></pre></td></tr></table></figure>

<p>åˆ é™¤ç´¢å¼•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment">    * åˆ é™¤ç´¢å¼•</span><br><span class="hljs-comment">    */</span><br>   <span class="hljs-meta">@Test</span><br>   <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">deleteIndex</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>        <span class="hljs-type">IndicesClient</span> <span class="hljs-variable">indices</span> <span class="hljs-operator">=</span> client.indices();<br>       DeleteIndexRequest deleteRequest=<span class="hljs-keyword">new</span> <span class="hljs-title class_">DeleteIndexRequest</span>(<span class="hljs-string">&quot;itheima&quot;</span>);<br>       <span class="hljs-type">AcknowledgedResponse</span> <span class="hljs-variable">delete</span> <span class="hljs-operator">=</span> indices.delete(deleteRequest, RequestOptions.DEFAULT);<br>       System.out.println(delete.isAcknowledged());<br><br>   &#125;<br></code></pre></td></tr></table></figure>



<p>ç´¢å¼•æ˜¯å¦å­˜åœ¨</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment">    * ç´¢å¼•æ˜¯å¦å­˜åœ¨</span><br><span class="hljs-comment">    */</span><br>   <span class="hljs-meta">@Test</span><br>   <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">existIndex</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>       <span class="hljs-type">IndicesClient</span> <span class="hljs-variable">indices</span> <span class="hljs-operator">=</span> client.indices();<br><br>       GetIndexRequest getIndexRequest=<span class="hljs-keyword">new</span> <span class="hljs-title class_">GetIndexRequest</span>(<span class="hljs-string">&quot;itheima&quot;</span>);<br>       <span class="hljs-type">boolean</span> <span class="hljs-variable">exists</span> <span class="hljs-operator">=</span> indices.exists(getIndexRequest, RequestOptions.DEFAULT);<br><br><br>       System.out.println(exists);<br><br>   &#125;<br>   <br></code></pre></td></tr></table></figure>



<h3 id="7-4-æ·»åŠ æ–‡æ¡£"><a href="#7-4-æ·»åŠ æ–‡æ¡£" class="headerlink" title="7.4-æ·»åŠ æ–‡æ¡£"></a><strong>7.4-æ·»åŠ æ–‡æ¡£</strong></h3><p>1.æ·»åŠ æ–‡æ¡£,ä½¿ç”¨mapä½œä¸ºæ•°æ®</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br>   <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addDoc1</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>       Map&lt;String, Object&gt; map=<span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br>       map.put(<span class="hljs-string">&quot;name&quot;</span>,<span class="hljs-string">&quot;å¼ ä¸‰&quot;</span>);<br>       map.put(<span class="hljs-string">&quot;age&quot;</span>,<span class="hljs-string">&quot;18&quot;</span>);<br>       map.put(<span class="hljs-string">&quot;address&quot;</span>,<span class="hljs-string">&quot;åŒ—äº¬äºŒç¯&quot;</span>);<br>       IndexRequest request=<span class="hljs-keyword">new</span> <span class="hljs-title class_">IndexRequest</span>(<span class="hljs-string">&quot;itcast&quot;</span>).id(<span class="hljs-string">&quot;1&quot;</span>).source(map);<br>       <span class="hljs-type">IndexResponse</span> <span class="hljs-variable">response</span> <span class="hljs-operator">=</span> client.index(request, RequestOptions.DEFAULT);<br>       System.out.println(response.getId());<br>   &#125;<br></code></pre></td></tr></table></figure>

<p> 2.æ·»åŠ æ–‡æ¡£,ä½¿ç”¨å¯¹è±¡ä½œä¸ºæ•°æ®</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addDoc2</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>    Person person=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>();<br>    person.setId(<span class="hljs-string">&quot;2&quot;</span>);<br>    person.setName(<span class="hljs-string">&quot;æå››&quot;</span>);<br>    person.setAge(<span class="hljs-number">20</span>);<br>    person.setAddress(<span class="hljs-string">&quot;åŒ—äº¬ä¸‰ç¯&quot;</span>);<br>    <span class="hljs-type">String</span> <span class="hljs-variable">data</span> <span class="hljs-operator">=</span> JSON.toJSONString(person);<br>    IndexRequest request=<span class="hljs-keyword">new</span> <span class="hljs-title class_">IndexRequest</span>(<span class="hljs-string">&quot;itcast&quot;</span>).id(person.getId()).source(data,XContentType.JSON);<br>    <span class="hljs-type">IndexResponse</span> <span class="hljs-variable">response</span> <span class="hljs-operator">=</span> client.index(request, RequestOptions.DEFAULT);<br>    System.out.println(response.getId());<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="7-5-ä¿®æ”¹ã€æŸ¥è¯¢ã€åˆ é™¤æ–‡æ¡£"><a href="#7-5-ä¿®æ”¹ã€æŸ¥è¯¢ã€åˆ é™¤æ–‡æ¡£" class="headerlink" title="7.5-ä¿®æ”¹ã€æŸ¥è¯¢ã€åˆ é™¤æ–‡æ¡£"></a><strong>7.5-ä¿®æ”¹ã€æŸ¥è¯¢ã€åˆ é™¤æ–‡æ¡£</strong></h3><p>1.ä¿®æ”¹æ–‡æ¡£ï¼šæ·»åŠ æ–‡æ¡£æ—¶ï¼Œå¦‚æœidå­˜åœ¨åˆ™ä¿®æ”¹ï¼Œidä¸å­˜åœ¨åˆ™æ·»åŠ </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * ä¿®æ”¹æ–‡æ¡£ï¼šæ·»åŠ æ–‡æ¡£æ—¶ï¼Œå¦‚æœidå­˜åœ¨åˆ™ä¿®æ”¹ï¼Œidä¸å­˜åœ¨åˆ™æ·»åŠ </span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">UpdateDoc</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>    Person person=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>();<br>    person.setId(<span class="hljs-string">&quot;2&quot;</span>);<br>    person.setName(<span class="hljs-string">&quot;æå››&quot;</span>);<br>    person.setAge(<span class="hljs-number">20</span>);<br>    person.setAddress(<span class="hljs-string">&quot;åŒ—äº¬ä¸‰ç¯è½¦ç‹&quot;</span>);<br><br>    <span class="hljs-type">String</span> <span class="hljs-variable">data</span> <span class="hljs-operator">=</span> JSON.toJSONString(person);<br><br>    IndexRequest request=<span class="hljs-keyword">new</span> <span class="hljs-title class_">IndexRequest</span>(<span class="hljs-string">&quot;itcast&quot;</span>).id(person.getId()).source(data,XContentType.JSON);<br>    <span class="hljs-type">IndexResponse</span> <span class="hljs-variable">response</span> <span class="hljs-operator">=</span> client.index(request, RequestOptions.DEFAULT);<br>    System.out.println(response.getId());<br>&#125;<br></code></pre></td></tr></table></figure>

<p>2.æ ¹æ®idæŸ¥è¯¢æ–‡æ¡£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * æ ¹æ®idæŸ¥è¯¢æ–‡æ¡£</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">getDoc</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException &#123;<br><br>    <span class="hljs-comment">//è®¾ç½®æŸ¥è¯¢çš„ç´¢å¼•ã€æ–‡æ¡£</span><br>    GetRequest indexRequest=<span class="hljs-keyword">new</span> <span class="hljs-title class_">GetRequest</span>(<span class="hljs-string">&quot;itcast&quot;</span>,<span class="hljs-string">&quot;2&quot;</span>);<br><br>    <span class="hljs-type">GetResponse</span> <span class="hljs-variable">response</span> <span class="hljs-operator">=</span> client.get(indexRequest, RequestOptions.DEFAULT);<br>    System.out.println(response.getSourceAsString());<br>&#125;<br></code></pre></td></tr></table></figure>

<p>3.æ ¹æ®idåˆ é™¤æ–‡æ¡£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment">     * æ ¹æ®idåˆ é™¤æ–‡æ¡£</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">delDoc</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException &#123;<br><br>        <span class="hljs-comment">//è®¾ç½®è¦åˆ é™¤çš„ç´¢å¼•ã€æ–‡æ¡£</span><br>        DeleteRequest deleteRequest=<span class="hljs-keyword">new</span> <span class="hljs-title class_">DeleteRequest</span>(<span class="hljs-string">&quot;itcast&quot;</span>,<span class="hljs-string">&quot;1&quot;</span>);<br><br>        <span class="hljs-type">DeleteResponse</span> <span class="hljs-variable">response</span> <span class="hljs-operator">=</span> client.delete(deleteRequest, RequestOptions.DEFAULT);<br>        System.out.println(response.getId());<br>    &#125;<br></code></pre></td></tr></table></figure>




  

</article>



              </div>
            </div>
          </div>
        </div>
      </div>
    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">å…³é”®è¯</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
      

    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="busuanzi_container_site_pv" style="display: none">
        æ€»è®¿é—®é‡ 
        <span id="busuanzi_value_site_pv"></span>
         æ¬¡
      </span>
    
    
      <span id="busuanzi_container_site_uv" style="display: none">
        æ€»è®¿å®¢æ•° 
        <span id="busuanzi_value_site_uv"></span>
         äºº
      </span>
    
    
  
</div>

  
  
    <!-- å¤‡æ¡ˆä¿¡æ¯ ICP for China -->
    <div class="beian">
  <span>
    <a href="http://beian.miit.gov.cn/" target="_blank" rel="nofollow noopener">
      ç²¤ICPè¯123456å·
    </a>
  </span>
  
    
      <span>
        <a
          href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=12345678"
          rel="nofollow noopener"
          class="beian-police"
          target="_blank"
        >
          
            <span style="visibility: hidden; width: 0">|</span>
            <img src="/Hexo/img/police_beian.png" srcset="/Hexo/img/loading.gif" lazyload alt="police-icon"/>
          
          <span>ç²¤å…¬ç½‘å®‰å¤‡12345678å·</span>
        </a>
      </span>
    
  
</div>

  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/Hexo/js/events.js" ></script>
<script  src="/Hexo/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  

  

  

  

  

  

  




  
    <script  src="/Hexo/js/img-lazyload.js" ></script>
  




  <script  src="/Hexo/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- ä¸»é¢˜çš„å¯åŠ¨é¡¹ï¼Œå°†å®ƒä¿æŒåœ¨æœ€åº•éƒ¨ -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/Hexo/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">åšå®¢åœ¨å…è®¸ JavaScript è¿è¡Œçš„ç¯å¢ƒä¸‹æµè§ˆæ•ˆæœæ›´ä½³</div>
  </noscript>
</body>
</html>
